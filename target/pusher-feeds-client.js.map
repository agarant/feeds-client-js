{"version":3,"file":"pusher-feeds-client.js","sources":["../node_modules/pusher-platform/dist/web/pusher-platform.js","../src/utils.js","../src/feed.js","../src/constants.js","../src/token-provider.js","../src/feeds.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PusherPlatform\"] = factory();\n\telse\n\t\troot[\"PusherPlatform\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 9);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction responseToHeadersObject(headerStr) {\n    var headers = {};\n    if (!headerStr) {\n        return headers;\n    }\n    var headerPairs = headerStr.split('\\u000d\\u000a');\n    for (var _i = 0, headerPairs_1 = headerPairs; _i < headerPairs_1.length; _i++) {\n        var headerPair = headerPairs_1[_i];\n        var index = headerPair.indexOf('\\u003a\\u0020');\n        if (index > 0) {\n            var key = headerPair.substring(0, index);\n            var val = headerPair.substring(index + 2);\n            headers[key] = val;\n        }\n    }\n    return headers;\n}\nexports.responseToHeadersObject = responseToHeadersObject;\nvar ErrorResponse = (function () {\n    function ErrorResponse(statusCode, headers, info) {\n        this.statusCode = statusCode;\n        this.headers = headers;\n        this.info = info;\n    }\n    ErrorResponse.fromXHR = function (xhr) {\n        return new ErrorResponse(xhr.status, responseToHeadersObject(xhr.getAllResponseHeaders()), xhr.responseText);\n    };\n    return ErrorResponse;\n}());\nexports.ErrorResponse = ErrorResponse;\nvar NetworkError = (function () {\n    function NetworkError(error) {\n        this.error = error;\n    }\n    return NetworkError;\n}());\nexports.NetworkError = NetworkError;\nvar XhrReadyState;\n(function (XhrReadyState) {\n    XhrReadyState[XhrReadyState[\"UNSENT\"] = 0] = \"UNSENT\";\n    XhrReadyState[XhrReadyState[\"OPENED\"] = 1] = \"OPENED\";\n    XhrReadyState[XhrReadyState[\"HEADERS_RECEIVED\"] = 2] = \"HEADERS_RECEIVED\";\n    XhrReadyState[XhrReadyState[\"LOADING\"] = 3] = \"LOADING\";\n    XhrReadyState[XhrReadyState[\"DONE\"] = 4] = \"DONE\";\n})(XhrReadyState = exports.XhrReadyState || (exports.XhrReadyState = {}));\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"VERBOSE\"] = 1] = \"VERBOSE\";\n    LogLevel[LogLevel[\"DEBUG\"] = 2] = \"DEBUG\";\n    LogLevel[LogLevel[\"INFO\"] = 3] = \"INFO\";\n    LogLevel[LogLevel[\"WARNING\"] = 4] = \"WARNING\";\n    LogLevel[LogLevel[\"ERROR\"] = 5] = \"ERROR\";\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));\nvar ConsoleLogger = (function () {\n    function ConsoleLogger(threshold) {\n        if (threshold === void 0) { threshold = 2; }\n        this.threshold = threshold;\n        var groups = Array();\n        var hr = '--------------------------------------------------------------------------------';\n        if (!window.console.group) {\n            window.console.group = function (label) {\n                groups.push(label);\n                window.console.log('%c \\nBEGIN GROUP: %c', hr, label);\n            };\n        }\n        if (!window.console.groupEnd) {\n            window.console.groupEnd = function () {\n                window.console.log('END GROUP: %c\\n%c', groups.pop(), hr);\n            };\n        }\n    }\n    ConsoleLogger.prototype.verbose = function (message, error) {\n        this.log(window.console.log, LogLevel.VERBOSE, message, error);\n    };\n    ConsoleLogger.prototype.debug = function (message, error) {\n        this.log(window.console.log, LogLevel.DEBUG, message, error);\n    };\n    ConsoleLogger.prototype.info = function (message, error) {\n        this.log(window.console.info, LogLevel.INFO, message, error);\n    };\n    ConsoleLogger.prototype.warn = function (message, error) {\n        this.log(window.console.warn, LogLevel.WARNING, message, error);\n    };\n    ConsoleLogger.prototype.error = function (message, error) {\n        this.log(window.console.error, LogLevel.ERROR, message, error);\n    };\n    ConsoleLogger.prototype.log = function (logFunction, level, message, error) {\n        if (level >= this.threshold) {\n            var loggerSignature = \"Logger.\" + LogLevel[level];\n            if (error) {\n                window.console.group();\n                logFunction(loggerSignature + \": \" + message);\n                logFunction(error);\n                window.console.groupEnd();\n            }\n            else {\n                logFunction(loggerSignature + \": \" + message);\n            }\n        }\n    };\n    return ConsoleLogger;\n}());\nexports.ConsoleLogger = ConsoleLogger;\nvar EmptyLogger = (function () {\n    function EmptyLogger() {\n    }\n    EmptyLogger.prototype.verbose = function (message, error) { };\n    EmptyLogger.prototype.debug = function (message, error) { };\n    EmptyLogger.prototype.info = function (message, error) { };\n    EmptyLogger.prototype.warn = function (message, error) { };\n    EmptyLogger.prototype.error = function (message, error) { };\n    return EmptyLogger;\n}());\nexports.EmptyLogger = EmptyLogger;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar network_1 = __webpack_require__(0);\nexports.createRetryStrategyOptionsOrDefault = function (options) {\n    var initialTimeoutMillis = options.initialTimeoutMillis || 1000;\n    var maxTimeoutMillis = options.maxTimeoutMillis || 5000;\n    var limit = -1;\n    if (options.limit !== undefined && options.limit != null) {\n        limit = options.limit;\n    }\n    var increaseTimeout;\n    if (options.increaseTimeout !== undefined) {\n        increaseTimeout = options.increaseTimeout;\n    }\n    else {\n        increaseTimeout = function (currentTimeout) {\n            if (currentTimeout * 2 > maxTimeoutMillis) {\n                return maxTimeoutMillis;\n            }\n            else {\n                return currentTimeout * 2;\n            }\n        };\n    }\n    return {\n        increaseTimeout: increaseTimeout,\n        initialTimeoutMillis: initialTimeoutMillis,\n        limit: limit,\n        maxTimeoutMillis: maxTimeoutMillis,\n    };\n};\nvar Retry = (function () {\n    function Retry(waitTimeMillis) {\n        this.waitTimeMillis = waitTimeMillis;\n    }\n    return Retry;\n}());\nexports.Retry = Retry;\nvar DoNotRetry = (function () {\n    function DoNotRetry(error) {\n        this.error = error;\n    }\n    return DoNotRetry;\n}());\nexports.DoNotRetry = DoNotRetry;\nvar requestMethodIsSafe = function (method) {\n    method = method.toUpperCase();\n    return (method === 'GET' ||\n        method === 'HEAD' ||\n        method === 'OPTIONS' ||\n        method === 'SUBSCRIBE');\n};\nvar RetryResolution = (function () {\n    function RetryResolution(options, logger, retryUnsafeRequests) {\n        this.options = options;\n        this.logger = logger;\n        this.retryUnsafeRequests = retryUnsafeRequests;\n        this.currentRetryCount = 0;\n        this.initialTimeoutMillis = options.initialTimeoutMillis;\n        this.maxTimeoutMillis = options.maxTimeoutMillis;\n        this.limit = options.limit;\n        this.increaseTimeoutFunction = options.increaseTimeout;\n        this.currentBackoffMillis = this.initialTimeoutMillis;\n    }\n    RetryResolution.prototype.attemptRetry = function (error) {\n        this.logger.verbose(this.constructor.name + \":  Error received\", error);\n        if (this.currentRetryCount >= this.limit && this.limit >= 0) {\n            this.logger.verbose(this.constructor.name + \":  Retry count is over the maximum limit: \" + this.limit);\n            return new DoNotRetry(error);\n        }\n        if (error instanceof network_1.ErrorResponse && error.headers['Retry-After']) {\n            this.logger.verbose(this.constructor.name + \":  Retry-After header is present, retrying in \" + error.headers['Retry-After']);\n            return new Retry(parseInt(error.headers['Retry-After'], 10) * 1000);\n        }\n        if (error instanceof network_1.NetworkError ||\n            (error instanceof network_1.ErrorResponse &&\n                requestMethodIsSafe(error.headers['Request-Method'])) ||\n            this.retryUnsafeRequests) {\n            return this.shouldSafeRetry(error);\n        }\n        if (error instanceof network_1.NetworkError) {\n            return this.shouldSafeRetry(error);\n        }\n        this.logger.verbose(this.constructor.name + \": Error is not retryable\", error);\n        return new DoNotRetry(error);\n    };\n    RetryResolution.prototype.shouldSafeRetry = function (error) {\n        if (error instanceof network_1.NetworkError) {\n            this.logger.verbose(this.constructor.name + \": It's a Network Error, will retry\", error);\n            return new Retry(this.calulateMillisToRetry());\n        }\n        else if (error instanceof network_1.ErrorResponse) {\n            if (error.statusCode >= 500 && error.statusCode < 600) {\n                this.logger.verbose(this.constructor.name + \": Error 5xx, will retry\");\n                return new Retry(this.calulateMillisToRetry());\n            }\n        }\n        this.logger.verbose(this.constructor.name + \": Error is not retryable\", error);\n        return new DoNotRetry(error);\n    };\n    RetryResolution.prototype.calulateMillisToRetry = function () {\n        this.currentBackoffMillis = this.increaseTimeoutFunction(this.currentBackoffMillis);\n        this.logger.verbose(this.constructor.name + \": Retrying in \" + this.currentBackoffMillis + \"ms\");\n        return this.currentBackoffMillis;\n    };\n    return RetryResolution;\n}());\nexports.RetryResolution = RetryResolution;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar logger_1 = __webpack_require__(1);\nvar request_1 = __webpack_require__(4);\nvar resuming_subscription_1 = __webpack_require__(5);\nvar retrying_subscription_1 = __webpack_require__(6);\nvar subscribe_strategy_1 = __webpack_require__(10);\nvar subscription_1 = __webpack_require__(11);\nvar token_providing_subscription_1 = __webpack_require__(7);\nvar http_1 = __webpack_require__(12);\nvar websocket_1 = __webpack_require__(13);\nvar transports_1 = __webpack_require__(8);\nvar BaseClient = (function () {\n    function BaseClient(options) {\n        this.options = options;\n        this.host = options.host.replace(/(\\/)+$/, '');\n        this.logger = options.logger || new logger_1.ConsoleLogger();\n        this.websocketTransport = new websocket_1.default(this.host);\n        this.httpTransport = new http_1.default(this.host);\n    }\n    BaseClient.prototype.request = function (options, tokenParams) {\n        var _this = this;\n        if (options.tokenProvider) {\n            return options.tokenProvider\n                .fetchToken(tokenParams)\n                .then(function (token) {\n                if (options.headers !== undefined) {\n                    options.headers['Authorization'] = \"Bearer \" + token;\n                }\n                else {\n                    options.headers = (_a = {},\n                        _a['Authorization'] = \"Bearer \" + token,\n                        _a);\n                }\n                return request_1.executeNetworkRequest(function () { return _this.httpTransport.request(options); }, options);\n                var _a;\n            })\n                .catch(function (error) {\n                _this.logger.error(error);\n            });\n        }\n        return request_1.executeNetworkRequest(function () { return _this.httpTransport.request(options); }, options);\n    };\n    BaseClient.prototype.subscribeResuming = function (path, headers, listeners, retryStrategyOptions, initialEventId, tokenProvider) {\n        var completeListeners = subscription_1.replaceMissingListenersWithNoOps(listeners);\n        var subscribeStrategyListeners = subscribe_strategy_1.subscribeStrategyListenersFromSubscriptionListeners(completeListeners);\n        var subscriptionStrategy = resuming_subscription_1.createResumingStrategy(retryStrategyOptions, token_providing_subscription_1.createTokenProvidingStrategy(transports_1.createTransportStrategy(path, this.websocketTransport, this.logger), this.logger, tokenProvider), this.logger, initialEventId);\n        var opened = false;\n        return subscriptionStrategy({\n            onEnd: subscribeStrategyListeners.onEnd,\n            onError: subscribeStrategyListeners.onError,\n            onEvent: subscribeStrategyListeners.onEvent,\n            onOpen: function (headers) {\n                if (!opened) {\n                    opened = true;\n                    subscribeStrategyListeners.onOpen(headers);\n                }\n                completeListeners.onSubscribe();\n            },\n            onRetrying: subscribeStrategyListeners.onRetrying,\n        }, headers);\n    };\n    BaseClient.prototype.subscribeNonResuming = function (path, headers, listeners, retryStrategyOptions, tokenProvider) {\n        var completeListeners = subscription_1.replaceMissingListenersWithNoOps(listeners);\n        var subscribeStrategyListeners = subscribe_strategy_1.subscribeStrategyListenersFromSubscriptionListeners(completeListeners);\n        var subscriptionStrategy = retrying_subscription_1.createRetryingStrategy(retryStrategyOptions, token_providing_subscription_1.createTokenProvidingStrategy(transports_1.createTransportStrategy(path, this.websocketTransport, this.logger), this.logger, tokenProvider), this.logger);\n        var opened = false;\n        return subscriptionStrategy({\n            onEnd: subscribeStrategyListeners.onEnd,\n            onError: subscribeStrategyListeners.onError,\n            onEvent: subscribeStrategyListeners.onEvent,\n            onOpen: function (headers) {\n                if (!opened) {\n                    opened = true;\n                    subscribeStrategyListeners.onOpen(headers);\n                }\n                completeListeners.onSubscribe();\n            },\n            onRetrying: subscribeStrategyListeners.onRetrying,\n        }, headers);\n    };\n    return BaseClient;\n}());\nexports.BaseClient = BaseClient;\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar network_1 = __webpack_require__(0);\nfunction executeNetworkRequest(createXhr, options) {\n    return new Promise(function (resolve, reject) {\n        var xhr = createXhr();\n        xhr.onreadystatechange = function () {\n            if (xhr.readyState === 4) {\n                if (xhr.status >= 200 && xhr.status < 300) {\n                    resolve(xhr.response);\n                }\n                else if (xhr.status !== 0) {\n                    reject(network_1.ErrorResponse.fromXHR(xhr));\n                }\n                else {\n                    reject(new network_1.NetworkError('No Connection'));\n                }\n            }\n        };\n        xhr.send(JSON.stringify(options.body));\n    });\n}\nexports.executeNetworkRequest = executeNetworkRequest;\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar network_1 = __webpack_require__(0);\nvar retry_strategy_1 = __webpack_require__(2);\nexports.createResumingStrategy = function (retryOptions, nextSubscribeStrategy, logger, initialEventId) {\n    var completeRetryOptions = retry_strategy_1.createRetryStrategyOptionsOrDefault(retryOptions);\n    var retryResolution = new retry_strategy_1.RetryResolution(completeRetryOptions, logger);\n    var ResumingSubscription = (function () {\n        function ResumingSubscription(listeners, headers) {\n            var _this = this;\n            this.unsubscribe = function () {\n                _this.state.unsubscribe();\n            };\n            this.onTransition = function (newState) {\n                _this.state = newState;\n            };\n            var OpeningSubscriptionState = (function () {\n                function OpeningSubscriptionState(onTransition) {\n                    var _this = this;\n                    this.onTransition = onTransition;\n                    var lastEventId = initialEventId;\n                    logger.verbose(\"ResumingSubscription: transitioning to OpeningSubscriptionState\");\n                    if (lastEventId) {\n                        headers['Last-Event-Id'] = lastEventId;\n                        logger.verbose(\"ResumingSubscription: initialEventId is \" + lastEventId);\n                    }\n                    this.underlyingSubscription = nextSubscribeStrategy({\n                        onEnd: function (error) {\n                            onTransition(new EndedSubscriptionState(error));\n                        },\n                        onError: function (error) {\n                            onTransition(new ResumingSubscriptionState(error, onTransition, lastEventId));\n                        },\n                        onEvent: function (event) {\n                            lastEventId = event.eventId;\n                            listeners.onEvent(event);\n                        },\n                        onOpen: function (headers) {\n                            onTransition(new OpenSubscriptionState(headers, _this.underlyingSubscription, onTransition));\n                        },\n                        onRetrying: listeners.onRetrying,\n                    }, headers);\n                }\n                OpeningSubscriptionState.prototype.unsubscribe = function () {\n                    this.onTransition(new EndingSubscriptionState());\n                    this.underlyingSubscription.unsubscribe();\n                };\n                return OpeningSubscriptionState;\n            }());\n            var OpenSubscriptionState = (function () {\n                function OpenSubscriptionState(headers, underlyingSubscription, onTransition) {\n                    this.underlyingSubscription = underlyingSubscription;\n                    this.onTransition = onTransition;\n                    logger.verbose(\"ResumingSubscription: transitioning to OpenSubscriptionState\");\n                    listeners.onOpen(headers);\n                }\n                OpenSubscriptionState.prototype.unsubscribe = function () {\n                    this.onTransition(new EndingSubscriptionState());\n                    this.underlyingSubscription.unsubscribe();\n                };\n                return OpenSubscriptionState;\n            }());\n            var ResumingSubscriptionState = (function () {\n                function ResumingSubscriptionState(error, onTransition, lastEventId) {\n                    var _this = this;\n                    this.onTransition = onTransition;\n                    logger.verbose(\"ResumingSubscription: transitioning to ResumingSubscriptionState\");\n                    var executeSubscriptionOnce = function (error, lastEventId) {\n                        listeners.onRetrying();\n                        var resolveError = function (error) {\n                            if (error instanceof network_1.ErrorResponse) {\n                                error.headers['Request-Method'] = 'SUBSCRIBE';\n                            }\n                            return retryResolution.attemptRetry(error);\n                        };\n                        var errorResolution = resolveError(error);\n                        if (errorResolution instanceof retry_strategy_1.Retry) {\n                            _this.timeout = window.setTimeout(function () {\n                                executeNextSubscribeStrategy(lastEventId);\n                            }, errorResolution.waitTimeMillis);\n                        }\n                        else {\n                            onTransition(new FailedSubscriptionState(error));\n                        }\n                    };\n                    var executeNextSubscribeStrategy = function (lastEventId) {\n                        logger.verbose(\"ResumingSubscription: trying to re-establish the subscription\");\n                        if (lastEventId) {\n                            logger.verbose(\"ResumingSubscription: lastEventId: \" + lastEventId);\n                            headers['Last-Event-Id'] = lastEventId;\n                        }\n                        _this.underlyingSubscription = nextSubscribeStrategy({\n                            onEnd: function (error) {\n                                onTransition(new EndedSubscriptionState(error));\n                            },\n                            onError: function (error) {\n                                executeSubscriptionOnce(error, lastEventId);\n                            },\n                            onEvent: function (event) {\n                                lastEventId = event.eventId;\n                                listeners.onEvent(event);\n                            },\n                            onOpen: function (headers) {\n                                onTransition(new OpenSubscriptionState(headers, _this.underlyingSubscription, onTransition));\n                            },\n                            onRetrying: listeners.onRetrying,\n                        }, headers);\n                    };\n                    executeSubscriptionOnce(error, lastEventId);\n                }\n                ResumingSubscriptionState.prototype.unsubscribe = function () {\n                    this.onTransition(new EndingSubscriptionState());\n                    window.clearTimeout(this.timeout);\n                    this.underlyingSubscription.unsubscribe();\n                };\n                return ResumingSubscriptionState;\n            }());\n            var EndingSubscriptionState = (function () {\n                function EndingSubscriptionState(error) {\n                    logger.verbose(\"ResumingSubscription: transitioning to EndingSubscriptionState\");\n                }\n                EndingSubscriptionState.prototype.unsubscribe = function () {\n                    throw new Error('Subscription is already ending');\n                };\n                return EndingSubscriptionState;\n            }());\n            var EndedSubscriptionState = (function () {\n                function EndedSubscriptionState(error) {\n                    logger.verbose(\"ResumingSubscription: transitioning to EndedSubscriptionState\");\n                    listeners.onEnd(error);\n                }\n                EndedSubscriptionState.prototype.unsubscribe = function () {\n                    throw new Error('Subscription has already ended');\n                };\n                return EndedSubscriptionState;\n            }());\n            var FailedSubscriptionState = (function () {\n                function FailedSubscriptionState(error) {\n                    logger.verbose(\"ResumingSubscription: transitioning to FailedSubscriptionState\", error);\n                    listeners.onError(error);\n                }\n                FailedSubscriptionState.prototype.unsubscribe = function () {\n                    throw new Error('Subscription has already ended');\n                };\n                return FailedSubscriptionState;\n            }());\n            this.state = new OpeningSubscriptionState(this.onTransition);\n        }\n        return ResumingSubscription;\n    }());\n    return function (listeners, headers) { return new ResumingSubscription(listeners, headers); };\n};\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar network_1 = __webpack_require__(0);\nvar retry_strategy_1 = __webpack_require__(2);\nexports.createRetryingStrategy = function (retryOptions, nextSubscribeStrategy, logger) {\n    var enrichedRetryOptions = retry_strategy_1.createRetryStrategyOptionsOrDefault(retryOptions);\n    var retryResolution = new retry_strategy_1.RetryResolution(enrichedRetryOptions, logger);\n    var RetryingSubscription = (function () {\n        function RetryingSubscription(listeners, headers) {\n            var _this = this;\n            this.unsubscribe = function () {\n                _this.state.unsubscribe();\n            };\n            this.onTransition = function (newState) {\n                _this.state = newState;\n            };\n            var OpeningSubscriptionState = (function () {\n                function OpeningSubscriptionState(onTransition) {\n                    var _this = this;\n                    logger.verbose(\"RetryingSubscription: transitioning to OpeningSubscriptionState\");\n                    this.underlyingSubscription = nextSubscribeStrategy({\n                        onEnd: function (error) { return onTransition(new EndedSubscriptionState(error)); },\n                        onError: function (error) {\n                            return onTransition(new RetryingSubscriptionState(error, onTransition));\n                        },\n                        onEvent: listeners.onEvent,\n                        onOpen: function (headers) {\n                            return onTransition(new OpenSubscriptionState(headers, _this.underlyingSubscription, onTransition));\n                        },\n                        onRetrying: listeners.onRetrying,\n                    }, headers);\n                }\n                OpeningSubscriptionState.prototype.unsubscribe = function () {\n                    this.underlyingSubscription.unsubscribe();\n                    throw new Error('Method not implemented.');\n                };\n                return OpeningSubscriptionState;\n            }());\n            var RetryingSubscriptionState = (function () {\n                function RetryingSubscriptionState(error, onTransition) {\n                    var _this = this;\n                    this.onTransition = onTransition;\n                    logger.verbose(\"RetryingSubscription: transitioning to RetryingSubscriptionState\");\n                    var executeSubscriptionOnce = function (error) {\n                        listeners.onRetrying();\n                        var resolveError = function (error) {\n                            if (error instanceof network_1.ErrorResponse) {\n                                error.headers['Request-Method'] = 'SUBSCRIBE';\n                            }\n                            return retryResolution.attemptRetry(error);\n                        };\n                        var errorResolution = resolveError(error);\n                        if (errorResolution instanceof retry_strategy_1.Retry) {\n                            _this.timeout = window.setTimeout(function () {\n                                executeNextSubscribeStrategy();\n                            }, errorResolution.waitTimeMillis);\n                        }\n                        else {\n                            onTransition(new FailedSubscriptionState(error));\n                        }\n                    };\n                    var executeNextSubscribeStrategy = function () {\n                        logger.verbose(\"RetryingSubscription: trying to re-establish the subscription\");\n                        var underlyingSubscription = nextSubscribeStrategy({\n                            onEnd: function (error) { return onTransition(new EndedSubscriptionState(error)); },\n                            onError: function (error) { return executeSubscriptionOnce(error); },\n                            onEvent: listeners.onEvent,\n                            onOpen: function (headers) {\n                                onTransition(new OpenSubscriptionState(headers, underlyingSubscription, onTransition));\n                            },\n                            onRetrying: listeners.onRetrying,\n                        }, headers);\n                    };\n                    executeSubscriptionOnce(error);\n                }\n                RetryingSubscriptionState.prototype.unsubscribe = function () {\n                    window.clearTimeout(this.timeout);\n                    this.onTransition(new EndedSubscriptionState());\n                };\n                return RetryingSubscriptionState;\n            }());\n            var OpenSubscriptionState = (function () {\n                function OpenSubscriptionState(headers, underlyingSubscription, onTransition) {\n                    this.underlyingSubscription = underlyingSubscription;\n                    this.onTransition = onTransition;\n                    logger.verbose(\"RetryingSubscription: transitioning to OpenSubscriptionState\");\n                    listeners.onOpen(headers);\n                }\n                OpenSubscriptionState.prototype.unsubscribe = function () {\n                    this.underlyingSubscription.unsubscribe();\n                    this.onTransition(new EndedSubscriptionState());\n                };\n                return OpenSubscriptionState;\n            }());\n            var EndedSubscriptionState = (function () {\n                function EndedSubscriptionState(error) {\n                    logger.verbose(\"RetryingSubscription: transitioning to EndedSubscriptionState\");\n                    listeners.onEnd(error);\n                }\n                EndedSubscriptionState.prototype.unsubscribe = function () {\n                    throw new Error('Subscription has already ended');\n                };\n                return EndedSubscriptionState;\n            }());\n            var FailedSubscriptionState = (function () {\n                function FailedSubscriptionState(error) {\n                    logger.verbose(\"RetryingSubscription: transitioning to FailedSubscriptionState\", error);\n                    listeners.onError(error);\n                }\n                FailedSubscriptionState.prototype.unsubscribe = function () {\n                    throw new Error('Subscription has already ended');\n                };\n                return FailedSubscriptionState;\n            }());\n            this.state = new OpeningSubscriptionState(this.onTransition);\n        }\n        return RetryingSubscription;\n    }());\n    return function (listeners, headers) { return new RetryingSubscription(listeners, headers); };\n};\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar network_1 = __webpack_require__(0);\nexports.createTokenProvidingStrategy = function (nextSubscribeStrategy, logger, tokenProvider) {\n    if (tokenProvider) {\n        return function (listeners, headers) {\n            return new TokenProvidingSubscription(logger, listeners, headers, tokenProvider, nextSubscribeStrategy);\n        };\n    }\n    return nextSubscribeStrategy;\n};\nvar TokenProvidingSubscription = (function () {\n    function TokenProvidingSubscription(logger, listeners, headers, tokenProvider, nextSubscribeStrategy) {\n        var _this = this;\n        this.logger = logger;\n        this.listeners = listeners;\n        this.headers = headers;\n        this.tokenProvider = tokenProvider;\n        this.nextSubscribeStrategy = nextSubscribeStrategy;\n        this.unsubscribe = function () {\n            _this.state.unsubscribe();\n            _this.state = new InactiveState(_this.logger);\n        };\n        this.state = new ActiveState(logger, headers, nextSubscribeStrategy);\n        this.subscribe();\n    }\n    TokenProvidingSubscription.prototype.subscribe = function () {\n        var _this = this;\n        this.tokenProvider\n            .fetchToken()\n            .then(function (token) {\n            var existingListeners = Object.assign({}, _this.listeners);\n            _this.state.subscribe(token, {\n                onEnd: function (error) {\n                    _this.state = new InactiveState(_this.logger);\n                    existingListeners.onEnd(error);\n                },\n                onError: function (error) {\n                    if (_this.isTokenExpiredError(error)) {\n                        _this.tokenProvider.clearToken(token);\n                        _this.subscribe();\n                    }\n                    else {\n                        _this.state = new InactiveState(_this.logger);\n                        existingListeners.onError(error);\n                    }\n                },\n                onEvent: _this.listeners.onEvent,\n                onOpen: _this.listeners.onOpen,\n            });\n        })\n            .catch(function (error) {\n            _this.logger.debug(\"TokenProvidingSubscription: error when fetching token: \" + error);\n            _this.state = new InactiveState(_this.logger);\n        });\n    };\n    TokenProvidingSubscription.prototype.isTokenExpiredError = function (error) {\n        return (error instanceof network_1.ErrorResponse &&\n            error.statusCode === 401 &&\n            error.info === 'authentication/expired');\n    };\n    return TokenProvidingSubscription;\n}());\nvar ActiveState = (function () {\n    function ActiveState(logger, headers, nextSubscribeStrategy) {\n        this.logger = logger;\n        this.headers = headers;\n        this.nextSubscribeStrategy = nextSubscribeStrategy;\n        logger.verbose(\"TokenProvidingSubscription: transitioning to TokenProvidingState\");\n    }\n    ActiveState.prototype.subscribe = function (token, listeners) {\n        var _this = this;\n        this.putTokenIntoHeader(token);\n        this.underlyingSubscription = this.nextSubscribeStrategy({\n            onEnd: function (error) {\n                _this.logger.verbose(\"TokenProvidingSubscription: subscription ended\");\n                listeners.onEnd(error);\n            },\n            onError: function (error) {\n                _this.logger.verbose(\"TokenProvidingSubscription: subscription errored: \" + error);\n                listeners.onError(error);\n            },\n            onEvent: listeners.onEvent,\n            onOpen: function (headers) {\n                _this.logger.verbose(\"TokenProvidingSubscription: subscription opened\");\n                listeners.onOpen(headers);\n            },\n            onRetrying: listeners.onRetrying,\n        }, this.headers);\n    };\n    ActiveState.prototype.unsubscribe = function () {\n        this.underlyingSubscription.unsubscribe();\n    };\n    ActiveState.prototype.putTokenIntoHeader = function (token) {\n        this.headers['Authorization'] = \"Bearer \" + token;\n        this.logger.verbose(\"TokenProvidingSubscription: token fetched: \" + token);\n    };\n    return ActiveState;\n}());\nvar InactiveState = (function () {\n    function InactiveState(logger) {\n        this.logger = logger;\n        logger.verbose(\"TokenProvidingSubscription: transitioning to OpenTokenProvidingSubscriptionState\");\n    }\n    InactiveState.prototype.subscribe = function (token, listeners) {\n        this.logger.verbose('TokenProvidingSubscription: subscribe called in Inactive state; doing nothing');\n    };\n    InactiveState.prototype.unsubscribe = function () {\n        this.logger.verbose('TokenProvidingSubscription: unsubscribe called in Inactive state; doing nothing');\n    };\n    return InactiveState;\n}());\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createTransportStrategy = function (path, transport, logger) {\n    return function (listeners, headers) { return transport.subscribe(path, listeners, headers); };\n};\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar base_client_1 = __webpack_require__(3);\nexports.BaseClient = base_client_1.BaseClient;\nvar instance_1 = __webpack_require__(14);\nexports.Instance = instance_1.default;\nvar logger_1 = __webpack_require__(1);\nexports.ConsoleLogger = logger_1.ConsoleLogger;\nexports.EmptyLogger = logger_1.EmptyLogger;\nvar network_1 = __webpack_require__(0);\nexports.ErrorResponse = network_1.ErrorResponse;\nexports.NetworkError = network_1.NetworkError;\nexports.responseToHeadersObject = network_1.responseToHeadersObject;\nexports.XhrReadyState = network_1.XhrReadyState;\nvar request_1 = __webpack_require__(4);\nexports.executeNetworkRequest = request_1.executeNetworkRequest;\nvar resuming_subscription_1 = __webpack_require__(5);\nexports.createResumingStrategy = resuming_subscription_1.createResumingStrategy;\nvar retry_strategy_1 = __webpack_require__(2);\nexports.createRetryStrategyOptionsOrDefault = retry_strategy_1.createRetryStrategyOptionsOrDefault;\nexports.DoNotRetry = retry_strategy_1.DoNotRetry;\nexports.Retry = retry_strategy_1.Retry;\nexports.RetryResolution = retry_strategy_1.RetryResolution;\nvar retrying_subscription_1 = __webpack_require__(6);\nexports.createRetryingStrategy = retrying_subscription_1.createRetryingStrategy;\nvar token_providing_subscription_1 = __webpack_require__(7);\nexports.createTokenProvidingStrategy = token_providing_subscription_1.createTokenProvidingStrategy;\nvar transports_1 = __webpack_require__(8);\nexports.createTransportStrategy = transports_1.createTransportStrategy;\nexports.default = {\n    BaseClient: base_client_1.BaseClient,\n    ConsoleLogger: logger_1.ConsoleLogger,\n    EmptyLogger: logger_1.EmptyLogger,\n    Instance: instance_1.default,\n};\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.subscribeStrategyListenersFromSubscriptionListeners = function (subListeners) {\n    return {\n        onEnd: subListeners.onEnd,\n        onError: subListeners.onError,\n        onEvent: subListeners.onEvent,\n        onOpen: subListeners.onOpen,\n        onRetrying: subListeners.onRetrying,\n    };\n};\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.replaceMissingListenersWithNoOps = function (listeners) {\n    var onEndNoOp = function (error) { };\n    var onEnd = listeners.onEnd || onEndNoOp;\n    var onErrorNoOp = function (error) { };\n    var onError = listeners.onError || onErrorNoOp;\n    var onEventNoOp = function (event) { };\n    var onEvent = listeners.onEvent || onEventNoOp;\n    var onOpenNoOp = function (headers) { };\n    var onOpen = listeners.onOpen || onOpenNoOp;\n    var onRetryingNoOp = function () { };\n    var onRetrying = listeners.onRetrying || onRetryingNoOp;\n    var onSubscribeNoOp = function () { };\n    var onSubscribe = listeners.onSubscribe || onSubscribeNoOp;\n    return {\n        onEnd: onEnd,\n        onError: onError,\n        onEvent: onEvent,\n        onOpen: onOpen,\n        onRetrying: onRetrying,\n        onSubscribe: onSubscribe,\n    };\n};\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar network_1 = __webpack_require__(0);\nvar HttpTransportState;\n(function (HttpTransportState) {\n    HttpTransportState[HttpTransportState[\"UNOPENED\"] = 0] = \"UNOPENED\";\n    HttpTransportState[HttpTransportState[\"OPENING\"] = 1] = \"OPENING\";\n    HttpTransportState[HttpTransportState[\"OPEN\"] = 2] = \"OPEN\";\n    HttpTransportState[HttpTransportState[\"ENDING\"] = 3] = \"ENDING\";\n    HttpTransportState[HttpTransportState[\"ENDED\"] = 4] = \"ENDED\";\n})(HttpTransportState = exports.HttpTransportState || (exports.HttpTransportState = {}));\nvar HttpSubscription = (function () {\n    function HttpSubscription(xhr, listeners) {\n        var _this = this;\n        this.gotEOS = false;\n        this.lastNewlineIndex = 0;\n        this.state = HttpTransportState.UNOPENED;\n        this.xhr = xhr;\n        this.listeners = listeners;\n        this.xhr.onreadystatechange = function () {\n            switch (_this.xhr.readyState) {\n                case network_1.XhrReadyState.UNSENT:\n                case network_1.XhrReadyState.OPENED:\n                case network_1.XhrReadyState.HEADERS_RECEIVED:\n                    _this.assertStateIsIn(HttpTransportState.OPENING);\n                    break;\n                case network_1.XhrReadyState.LOADING:\n                    _this.onLoading();\n                    break;\n                case network_1.XhrReadyState.DONE:\n                    _this.onDone();\n                    break;\n            }\n        };\n        this.state = HttpTransportState.OPENING;\n        this.xhr.send();\n        return this;\n    }\n    HttpSubscription.prototype.unsubscribe = function () {\n        this.state = HttpTransportState.ENDED;\n        this.xhr.abort();\n        if (this.listeners.onEnd) {\n            this.listeners.onEnd(null);\n        }\n    };\n    HttpSubscription.prototype.onLoading = function () {\n        this.assertStateIsIn(HttpTransportState.OPENING, HttpTransportState.OPEN, HttpTransportState.ENDING);\n        if (this.xhr.status === 200) {\n            if (this.state === HttpTransportState.OPENING) {\n                this.state = HttpTransportState.OPEN;\n                window.console.log(network_1.responseToHeadersObject(this.xhr.getAllResponseHeaders()));\n                if (this.listeners.onOpen) {\n                    this.listeners.onOpen(network_1.responseToHeadersObject(this.xhr.getAllResponseHeaders()));\n                }\n            }\n            this.assertStateIsIn(HttpTransportState.OPEN);\n            var err = this.onChunk();\n            this.assertStateIsIn(HttpTransportState.OPEN, HttpTransportState.ENDING);\n            if (err) {\n                this.state = HttpTransportState.ENDED;\n                if (err instanceof network_1.ErrorResponse && err.statusCode !== 204) {\n                    if (this.listeners.onError) {\n                        this.listeners.onError(err);\n                    }\n                }\n            }\n            else {\n            }\n        }\n    };\n    HttpSubscription.prototype.onDone = function () {\n        if (this.xhr.status === 200) {\n            if (this.state === HttpTransportState.OPENING) {\n                this.state = HttpTransportState.OPEN;\n                if (this.listeners.onOpen) {\n                    this.listeners.onOpen(network_1.responseToHeadersObject(this.xhr.getAllResponseHeaders()));\n                }\n            }\n            this.assertStateIsIn(HttpTransportState.OPEN, HttpTransportState.ENDING);\n            var err = this.onChunk();\n            if (err) {\n                this.state = HttpTransportState.ENDED;\n                if (err.statusCode === 204) {\n                    if (this.listeners.onEnd) {\n                        this.listeners.onEnd(null);\n                    }\n                }\n                else {\n                    if (this.listeners.onError) {\n                        this.listeners.onError(err);\n                    }\n                }\n            }\n            else if (this.state <= HttpTransportState.ENDING) {\n                if (this.listeners.onError) {\n                    this.listeners.onError(new Error('HTTP response ended without receiving EOS message'));\n                }\n            }\n            else {\n                if (this.listeners.onEnd) {\n                    this.listeners.onEnd(null);\n                }\n            }\n        }\n        else {\n            this.assertStateIsIn(HttpTransportState.OPENING, HttpTransportState.OPEN, HttpTransportState.ENDED);\n            if (this.state === HttpTransportState.ENDED) {\n                return;\n            }\n            else if (this.xhr.status === 0) {\n                if (this.listeners.onError) {\n                    this.listeners.onError(new network_1.NetworkError('Connection lost.'));\n                }\n            }\n            else {\n                if (this.listeners.onError) {\n                    this.listeners.onError(network_1.ErrorResponse.fromXHR(this.xhr));\n                }\n            }\n        }\n    };\n    HttpSubscription.prototype.onChunk = function () {\n        this.assertStateIsIn(HttpTransportState.OPEN);\n        var response = this.xhr.responseText;\n        var newlineIndex = response.lastIndexOf('\\n');\n        if (newlineIndex > this.lastNewlineIndex) {\n            var rawEvents = response\n                .slice(this.lastNewlineIndex, newlineIndex)\n                .split('\\n');\n            this.lastNewlineIndex = newlineIndex;\n            for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n                var rawEvent = rawEvents_1[_i];\n                if (rawEvent.length === 0) {\n                    continue;\n                }\n                var data = JSON.parse(rawEvent);\n                var err = this.onMessage(data);\n                if (err != null) {\n                    return err;\n                }\n            }\n        }\n    };\n    HttpSubscription.prototype.assertStateIsIn = function () {\n        var _this = this;\n        var validStates = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            validStates[_i] = arguments[_i];\n        }\n        var stateIsValid = validStates.some(function (validState) { return validState === _this.state; });\n        if (!stateIsValid) {\n            var expectedStates = validStates\n                .map(function (state) { return HttpTransportState[state]; })\n                .join(', ');\n            var actualState = HttpTransportState[this.state];\n            window.console.warn(\"Expected this.state to be one of [\" + expectedStates + \"] but it is \" + actualState);\n        }\n    };\n    HttpSubscription.prototype.onMessage = function (message) {\n        this.assertStateIsIn(HttpTransportState.OPEN);\n        this.verifyMessage(message);\n        switch (message[0]) {\n            case 0:\n                return null;\n            case 1:\n                return this.onEventMessage(message);\n            case 255:\n                return this.onEOSMessage(message);\n            default:\n                return new Error('Unknown Message: ' + JSON.stringify(message));\n        }\n    };\n    HttpSubscription.prototype.onEventMessage = function (eventMessage) {\n        this.assertStateIsIn(HttpTransportState.OPEN);\n        if (eventMessage.length !== 4) {\n            return new Error('Event message has ' + eventMessage.length + ' elements (expected 4)');\n        }\n        var _ = eventMessage[0], id = eventMessage[1], headers = eventMessage[2], body = eventMessage[3];\n        if (typeof id !== 'string') {\n            return new Error('Invalid event ID in message: ' + JSON.stringify(eventMessage));\n        }\n        if (typeof headers !== 'object' || Array.isArray(headers)) {\n            return new Error('Invalid event headers in message: ' + JSON.stringify(eventMessage));\n        }\n        if (this.listeners.onEvent) {\n            this.listeners.onEvent({ body: body, headers: headers, eventId: id });\n        }\n        return null;\n    };\n    HttpSubscription.prototype.onEOSMessage = function (eosMessage) {\n        this.assertStateIsIn(HttpTransportState.OPEN);\n        if (eosMessage.length !== 4) {\n            return new Error('EOS message has ' + eosMessage.length + ' elements (expected 4)');\n        }\n        var _ = eosMessage[0], statusCode = eosMessage[1], headers = eosMessage[2], info = eosMessage[3];\n        if (typeof statusCode !== 'number') {\n            return new Error('Invalid EOS Status Code');\n        }\n        if (typeof headers !== 'object' || Array.isArray(headers)) {\n            return new Error('Invalid EOS ElementsHeaders');\n        }\n        this.state = HttpTransportState.ENDING;\n        return new network_1.ErrorResponse(statusCode, headers, info);\n    };\n    HttpSubscription.prototype.verifyMessage = function (message) {\n        if (this.gotEOS) {\n            return new Error('Got another message after EOS message');\n        }\n        if (!Array.isArray(message)) {\n            return new Error('Message is not an array');\n        }\n        if (message.length < 1) {\n            return new Error('Message is empty array');\n        }\n    };\n    return HttpSubscription;\n}());\nvar HttpTransport = (function () {\n    function HttpTransport(host, encrypted) {\n        this.baseURL = (encrypted !== false ? 'https' : 'http') + \"://\" + host;\n    }\n    HttpTransport.prototype.request = function (requestOptions) {\n        return this.createXHR(this.baseURL, requestOptions);\n    };\n    HttpTransport.prototype.subscribe = function (path, listeners, headers) {\n        var requestOptions = {\n            headers: headers,\n            method: 'SUBSCRIBE',\n            path: path,\n        };\n        return new HttpSubscription(this.createXHR(this.baseURL, requestOptions), listeners);\n    };\n    HttpTransport.prototype.createXHR = function (baseURL, options) {\n        var xhr = new window.XMLHttpRequest();\n        var path = options.path.replace(/^\\/+/, '');\n        var endpoint = baseURL + \"/\" + path;\n        xhr.open(options.method.toUpperCase(), endpoint, true);\n        if (options.body) {\n            xhr.setRequestHeader('content-type', 'application/json');\n        }\n        if (options.jwt) {\n            xhr.setRequestHeader('authorization', \"Bearer \" + options.jwt);\n        }\n        if (options.headers) {\n            for (var key in options.headers) {\n                if (options.headers.hasOwnProperty(key)) {\n                    xhr.setRequestHeader(key, options.headers[key]);\n                }\n            }\n        }\n        return xhr;\n    };\n    return HttpTransport;\n}());\nexports.default = HttpTransport;\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar network_1 = __webpack_require__(0);\nvar SubscribeMessageType = 100;\nvar OpenMessageType = 101;\nvar EventMessageType = 102;\nvar UnsubscribeMessageType = 198;\nvar EosMessageType = 199;\nvar PingMessageType = 16;\nvar PongMessageType = 17;\nvar CloseMessageType = 99;\nvar WSReadyState;\n(function (WSReadyState) {\n    WSReadyState[WSReadyState[\"Connecting\"] = 0] = \"Connecting\";\n    WSReadyState[WSReadyState[\"Open\"] = 1] = \"Open\";\n    WSReadyState[WSReadyState[\"Closing\"] = 2] = \"Closing\";\n    WSReadyState[WSReadyState[\"Closed\"] = 3] = \"Closed\";\n})(WSReadyState = exports.WSReadyState || (exports.WSReadyState = {}));\nvar WsSubscriptions = (function () {\n    function WsSubscriptions() {\n        this.subscriptions = {};\n    }\n    WsSubscriptions.prototype.add = function (subID, path, listeners, headers) {\n        this.subscriptions[subID] = {\n            headers: headers,\n            listeners: listeners,\n            path: path,\n        };\n        return subID;\n    };\n    WsSubscriptions.prototype.has = function (subID) {\n        return this.subscriptions[subID] !== undefined;\n    };\n    WsSubscriptions.prototype.isEmpty = function () {\n        return Object.keys(this.subscriptions).length === 0;\n    };\n    WsSubscriptions.prototype.remove = function (subID) {\n        return delete this.subscriptions[subID];\n    };\n    WsSubscriptions.prototype.get = function (subID) {\n        return this.subscriptions[subID];\n    };\n    WsSubscriptions.prototype.getAll = function () {\n        return this.subscriptions;\n    };\n    WsSubscriptions.prototype.getAllAsArray = function () {\n        var _this = this;\n        return Object.keys(this.subscriptions).map(function (subID) { return (__assign({ subID: parseInt(subID, 10) }, _this.subscriptions[parseInt(subID, 10)])); });\n    };\n    WsSubscriptions.prototype.removeAll = function () {\n        this.subscriptions = {};\n    };\n    return WsSubscriptions;\n}());\nvar WsSubscription = (function () {\n    function WsSubscription(wsTransport, subID) {\n        this.wsTransport = wsTransport;\n        this.subID = subID;\n    }\n    WsSubscription.prototype.unsubscribe = function () {\n        this.wsTransport.unsubscribe(this.subID);\n    };\n    return WsSubscription;\n}());\nvar pingIntervalMs = 30000;\nvar pingTimeoutMs = 10000;\nvar WebSocketTransport = (function () {\n    function WebSocketTransport(host) {\n        this.webSocketPath = '/ws';\n        this.forcedClose = false;\n        this.closedError = null;\n        this.baseURL = \"wss://\" + host + this.webSocketPath;\n        this.lastSubscriptionID = 0;\n        this.subscriptions = new WsSubscriptions();\n        this.pendingSubscriptions = new WsSubscriptions();\n        this.connect();\n    }\n    WebSocketTransport.prototype.subscribe = function (path, listeners, headers) {\n        this.tryReconnectIfNeeded();\n        var subID = this.lastSubscriptionID++;\n        if (this.socket.readyState !== WSReadyState.Open) {\n            this.pendingSubscriptions.add(subID, path, listeners, headers);\n            return new WsSubscription(this, subID);\n        }\n        this.subscriptions.add(subID, path, listeners, headers);\n        this.sendMessage(this.getMessage(SubscribeMessageType, subID, path, headers));\n        return new WsSubscription(this, subID);\n    };\n    WebSocketTransport.prototype.unsubscribe = function (subID) {\n        this.sendMessage(this.getMessage(UnsubscribeMessageType, subID));\n        var subscription = this.subscriptions.get(subID);\n        if (subscription.listeners.onEnd) {\n            subscription.listeners.onEnd(null);\n        }\n        this.subscriptions.remove(subID);\n    };\n    WebSocketTransport.prototype.connect = function () {\n        var _this = this;\n        this.close();\n        this.forcedClose = false;\n        this.closedError = null;\n        this.socket = new window.WebSocket(this.baseURL);\n        this.socket.onopen = function (event) {\n            var allPendingSubscriptions = _this.pendingSubscriptions.getAllAsArray();\n            allPendingSubscriptions.forEach(function (subscription) {\n                var subID = subscription.subID, path = subscription.path, listeners = subscription.listeners, headers = subscription.headers;\n                _this.subscribePending(path, listeners, headers, subID);\n            });\n            _this.pendingSubscriptions.removeAll();\n            _this.pingInterval = window.setInterval(function () {\n                if (_this.pongTimeout) {\n                    return;\n                }\n                var now = new Date().getTime();\n                if (pingTimeoutMs > now - _this.lastMessageReceivedTimestamp) {\n                    return;\n                }\n                _this.sendMessage(_this.getMessage(PingMessageType, now));\n                _this.lastSentPingID = now;\n                _this.pongTimeout = window.setTimeout(function () {\n                    var now = new Date().getTime();\n                    if (pingTimeoutMs > now - _this.lastMessageReceivedTimestamp) {\n                        _this.pongTimeout = null;\n                        return;\n                    }\n                    _this.close(new network_1.NetworkError(\"Pong response wasn't received until timeout.\"));\n                }, pingTimeoutMs);\n            }, pingIntervalMs);\n        };\n        this.socket.onmessage = function (event) { return _this.receiveMessage(event); };\n        this.socket.onerror = function (event) {\n            _this.close(new network_1.NetworkError('Connection was lost.'));\n        };\n        this.socket.onclose = function (event) {\n            if (!_this.forcedClose) {\n                _this.tryReconnectIfNeeded();\n                return;\n            }\n            var callback = _this.closedError\n                ? function (subscription) {\n                    if (subscription.listeners.onError) {\n                        subscription.listeners.onError(_this.closedError);\n                    }\n                }\n                : function (subscription) {\n                    if (subscription.listeners.onEnd) {\n                        subscription.listeners.onEnd(null);\n                    }\n                };\n            var allSubscriptions = _this.pendingSubscriptions.isEmpty() === false\n                ? _this.pendingSubscriptions\n                : _this.subscriptions;\n            allSubscriptions.getAllAsArray().forEach(callback);\n            allSubscriptions.removeAll();\n            if (_this.closedError) {\n                _this.tryReconnectIfNeeded();\n            }\n        };\n    };\n    WebSocketTransport.prototype.close = function (error) {\n        if (!(this.socket instanceof window.WebSocket)) {\n            return;\n        }\n        this.forcedClose = true;\n        this.closedError = error;\n        this.socket.close();\n        window.clearTimeout(this.pingInterval);\n        window.clearTimeout(this.pongTimeout);\n        delete this.pongTimeout;\n        this.lastSentPingID = null;\n    };\n    WebSocketTransport.prototype.tryReconnectIfNeeded = function () {\n        if (this.socket.readyState !== WSReadyState.Closed) {\n            return;\n        }\n        this.connect();\n    };\n    WebSocketTransport.prototype.subscribePending = function (path, listeners, headers, subID) {\n        if (subID === undefined) {\n            window.console.logger.debug(\"Subscription to path \" + path + \" has an undefined ID\");\n            return;\n        }\n        this.subscriptions.add(subID, path, listeners, headers);\n        this.sendMessage(this.getMessage(SubscribeMessageType, subID, path, headers));\n    };\n    WebSocketTransport.prototype.getMessage = function (messageType, id, path, headers) {\n        return [messageType, id, path, headers];\n    };\n    WebSocketTransport.prototype.sendMessage = function (message) {\n        if (this.socket.readyState !== WSReadyState.Open) {\n            return window.console.warn(\"Can't send in \\\"\" + WSReadyState[this.socket.readyState] + \"\\\" state\");\n        }\n        this.socket.send(JSON.stringify(message));\n    };\n    WebSocketTransport.prototype.subscription = function (subID) {\n        return this.subscriptions.get(subID);\n    };\n    WebSocketTransport.prototype.receiveMessage = function (event) {\n        this.lastMessageReceivedTimestamp = new Date().getTime();\n        var message;\n        try {\n            message = JSON.parse(event.data);\n        }\n        catch (err) {\n            this.close(new Error(\"Message is not valid JSON format. Getting \" + event.data));\n            return;\n        }\n        var nonValidMessageError = this.validateMessage(message);\n        if (nonValidMessageError) {\n            this.close(new Error(nonValidMessageError.message));\n            return;\n        }\n        var messageType = message.shift();\n        switch (messageType) {\n            case PongMessageType:\n                this.onPongMessage(message);\n                return;\n            case PingMessageType:\n                this.onPingMessage(message);\n                return;\n            case CloseMessageType:\n                this.onCloseMessage(message);\n                return;\n        }\n        var subID = message.shift();\n        var subscription = this.subscription(subID);\n        if (!subscription) {\n            this.close(new Error(\"Received message for non existing subscription id: \\\"\" + subID + \"\\\"\"));\n            return;\n        }\n        var listeners = subscription.listeners;\n        switch (messageType) {\n            case OpenMessageType:\n                this.onOpenMessage(message, subID, listeners);\n                break;\n            case EventMessageType:\n                this.onEventMessage(message, listeners);\n                break;\n            case EosMessageType:\n                this.onEOSMessage(message, subID, listeners);\n                break;\n            default:\n                this.close(new Error('Received non existing type of message.'));\n        }\n    };\n    WebSocketTransport.prototype.validateMessage = function (message) {\n        if (!Array.isArray(message)) {\n            return new Error(\"Message is expected to be an array. Getting: \" + JSON.stringify(message));\n        }\n        if (message.length < 1) {\n            return new Error(\"Message is empty array: \" + JSON.stringify(message));\n        }\n        return null;\n    };\n    WebSocketTransport.prototype.onOpenMessage = function (message, subID, subscriptionListeners) {\n        if (subscriptionListeners.onOpen) {\n            subscriptionListeners.onOpen(message[1]);\n        }\n    };\n    WebSocketTransport.prototype.onEventMessage = function (eventMessage, subscriptionListeners) {\n        if (eventMessage.length !== 3) {\n            return new Error('Event message has ' + eventMessage.length + ' elements (expected 4)');\n        }\n        var eventId = eventMessage[0], headers = eventMessage[1], body = eventMessage[2];\n        if (typeof eventId !== 'string') {\n            return new Error(\"Invalid event ID in message: \" + JSON.stringify(eventMessage));\n        }\n        if (typeof headers !== 'object' || Array.isArray(headers)) {\n            return new Error(\"Invalid event headers in message: \" + JSON.stringify(eventMessage));\n        }\n        if (subscriptionListeners.onEvent) {\n            subscriptionListeners.onEvent({ eventId: eventId, headers: headers, body: body });\n        }\n    };\n    WebSocketTransport.prototype.onEOSMessage = function (eosMessage, subID, subscriptionListeners) {\n        this.subscriptions.remove(subID);\n        if (eosMessage.length !== 3) {\n            if (subscriptionListeners.onError) {\n                subscriptionListeners.onError(new Error(\"EOS message has \" + eosMessage.length + \" elements (expected 4)\"));\n            }\n            return;\n        }\n        var statusCode = eosMessage[0], headers = eosMessage[1], body = eosMessage[2];\n        if (typeof statusCode !== 'number') {\n            if (subscriptionListeners.onError) {\n                subscriptionListeners.onError(new Error('Invalid EOS Status Code'));\n            }\n            return;\n        }\n        if (typeof headers !== 'object' || Array.isArray(headers)) {\n            if (subscriptionListeners.onError) {\n                subscriptionListeners.onError(new Error('Invalid EOS ElementsHeaders'));\n            }\n            return;\n        }\n        if (statusCode === 204) {\n            if (subscriptionListeners.onEnd) {\n                subscriptionListeners.onEnd(null);\n            }\n            return;\n        }\n        if (subscriptionListeners.onError) {\n            subscriptionListeners.onError(new network_1.ErrorResponse(statusCode, headers, body));\n        }\n        return;\n    };\n    WebSocketTransport.prototype.onCloseMessage = function (closeMessage) {\n        var statusCode = closeMessage[0], headers = closeMessage[1], body = closeMessage[2];\n        if (typeof statusCode !== 'number') {\n            return this.close(new Error('Close message: Invalid EOS Status Code'));\n        }\n        if (typeof headers !== 'object' || Array.isArray(headers)) {\n            return this.close(new Error('Close message: Invalid EOS ElementsHeaders'));\n        }\n        this.close();\n    };\n    WebSocketTransport.prototype.onPongMessage = function (message) {\n        var receviedPongID = message[0];\n        if (this.lastSentPingID !== receviedPongID) {\n            this.close(new network_1.NetworkError(\"Didn't received pong with proper ID\"));\n        }\n        window.clearTimeout(this.pongTimeout);\n        delete this.pongTimeout;\n        this.lastSentPingID = null;\n    };\n    WebSocketTransport.prototype.onPingMessage = function (message) {\n        var receviedPingID = message[0];\n        this.sendMessage(this.getMessage(PongMessageType, receviedPingID));\n    };\n    return WebSocketTransport;\n}());\nexports.default = WebSocketTransport;\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar base_client_1 = __webpack_require__(3);\nvar logger_1 = __webpack_require__(1);\nvar HOST_BASE = 'pusherplatform.io';\nvar Instance = (function () {\n    function Instance(options) {\n        if (!options.locator) {\n            throw new Error('Expected `locator` property in Instance options!');\n        }\n        if (options.locator.split(':').length !== 3) {\n            throw new Error('The instance locator property is in the wrong format!');\n        }\n        if (!options.serviceName) {\n            throw new Error('Expected `serviceName` property in Instance options!');\n        }\n        if (!options.serviceVersion) {\n            throw new Error('Expected `serviceVersion` property in Instance otpions!');\n        }\n        var splitLocator = options.locator.split(':');\n        this.platformVersion = splitLocator[0];\n        this.cluster = splitLocator[1];\n        this.id = splitLocator[2];\n        this.serviceName = options.serviceName;\n        this.serviceVersion = options.serviceVersion;\n        this.host = options.host || this.cluster + \".\" + HOST_BASE;\n        this.logger = options.logger || new logger_1.ConsoleLogger();\n        this.client =\n            options.client ||\n                new base_client_1.BaseClient({\n                    encrypted: options.encrypted,\n                    host: this.host,\n                    logger: this.logger,\n                });\n        this.tokenProvider = options.tokenProvider;\n    }\n    Instance.prototype.request = function (options, tokenParams) {\n        options.path = this.absPath(options.path);\n        if (options.headers == null || options.headers === undefined) {\n            options.headers = {};\n        }\n        options.tokenProvider = options.tokenProvider || this.tokenProvider;\n        return this.client.request(options, tokenParams);\n    };\n    Instance.prototype.subscribeNonResuming = function (options) {\n        var headers = options.headers || {};\n        var retryStrategyOptions = options.retryStrategyOptions || {};\n        var tokenProvider = options.tokenProvider || this.tokenProvider;\n        return this.client.subscribeNonResuming(this.absPath(options.path), headers, options.listeners, retryStrategyOptions, tokenProvider);\n    };\n    Instance.prototype.subscribeResuming = function (options) {\n        var headers = options.headers || {};\n        var retryStrategyOptions = options.retryStrategyOptions || {};\n        var tokenProvider = options.tokenProvider || this.tokenProvider;\n        return this.client.subscribeResuming(this.absPath(options.path), headers, options.listeners, retryStrategyOptions, options.initialEventId, tokenProvider);\n    };\n    Instance.prototype.absPath = function (relativePath) {\n        return (\"/services/\" + this.serviceName + \"/\" + this.serviceVersion + \"/\" + this.id + \"/\" + relativePath)\n            .replace(/\\/+/g, '/')\n            .replace(/\\/+$/, '');\n    };\n    return Instance;\n}());\nexports.default = Instance;\n\n\n/***/ })\n/******/ ]);\n});","export function parseResponse(promise) {\n  return new Promise((resolve, reject) => {\n    promise.then(response => {\n      try {\n        resolve(JSON.parse(response));\n      } catch (err) {\n        reject(err);\n      }\n    }).catch(reject);\n  });\n}\n\nexport function urlEncode(data) {\n  return Object.keys(data)\n    .filter(key => data[key] !== undefined)\n    .map(key => `${ key }=${ encodeURIComponent(data[key]) }`)\n    .join(\"&\");\n}\n\nexport function queryString(data) {\n  const encodedData = urlEncode(data);\n  return encodedData ? `?${ encodedData }` : \"\";\n}\n\nexport function unixTimeNow() {\n  return Math.floor(Date.now() / 1000);\n}\n","import { parseResponse, queryString } from \"./utils\";\n\nexport default class Feed {\n  constructor({ instance, feedId, readTokenProvider }) {\n    this.instance = instance;\n    this.feedId = feedId;\n    this.readTokenProvider = readTokenProvider;\n  }\n\n  subscribe({ onOpen, onItem, ...options } = {}) {\n    if (onOpen && typeof onOpen !== \"function\") {\n      throw new TypeError(`onOpen must be a function, got ${ onOpen }`);\n    }\n    if (typeof onItem !== \"function\") {\n      throw new TypeError(\"Must provide an `onItem` callback\");\n    }\n    const onEvent = event => {\n      if (event.body.type === 0 && onOpen) {\n        onOpen(event.body.data);\n      } else if (event.body.type === 1 && onItem) {\n        onItem(event.body.data);\n      } else if (event.body.type > 1) {\n        throw new TypeError(`Unsupported event type '${\n          event.body.type\n        }'`);\n      }\n    };\n    return this.instance.subscribeResuming({\n      ...options,\n      // Mapping our itemId to platform library eventId\n      initialEventId: options.lastItemId,\n      path: `feeds/${ this.feedId }/items` + queryString({\n        previous_items: options.previousItems,\n      }),\n      tokenProvider: this.readTokenProvider,\n      listeners: {\n        onEvent,\n        onSubscribe: options.onSubscribe,\n        onRetrying: options.onRetrying,\n        onError: options.onError,\n        onEnd: options.onEnd,\n      }\n    });\n  }\n\n  paginate({ cursor, limit = 50 } = {}) {\n    return parseResponse(this.instance.request({\n      method: \"GET\",\n      path: `feeds/${ this.feedId }/items` + queryString({\n        cursor,\n        limit,\n      }),\n      tokenProvider: this.readTokenProvider,\n    }));\n  }\n}\n","export const cacheExpiryTolerance = 10 * 60; // 10 minutes (in seconds)\nexport const feedIdRegex = /^[a-zA-Z0-9-]+$/;\nexport const tokenProviderTimeout = 30 * 1000; // 30 seconds (in ms)\n","import {\n  cacheExpiryTolerance,\n  tokenProviderTimeout,\n} from \"./constants\";\n\nimport { urlEncode, unixTimeNow } from \"./utils\";\n\nexport default class TokenProvider {\n  constructor({ authEndpoint, authData }) {\n    this.authEndpoint = authEndpoint;\n    this.authData = authData;\n  }\n\n  fetchToken() {\n    if (this.cacheIsStale) {\n      return this.makeAuthRequest().then(responseBody => {\n        this.cache(responseBody.access_token, responseBody.expires_in);\n        return this.cachedToken;\n      });\n    }\n    return Promise.resolve(this.cachedToken);\n  }\n\n  get cacheIsStale() {\n    return !this.cachedToken || unixTimeNow() > this.cacheValidUntil;\n  }\n\n  cache(token, expiresIn) {\n    this.cachedToken = token;\n    this.cacheValidUntil = unixTimeNow() + expiresIn - cacheExpiryTolerance;\n  }\n\n  makeAuthRequest() {\n    if (typeof this.authEndpoint != \"string\") {\n      throw new TypeError(`Expected authEndpoint to be a string, but got ${this.authEndpoint}. Please provide an authEndpoint to access private feeds. (See http://docs.pusher.com/feeds/concepts/private-feeds/)`);\n    }\n    return new Promise((resolve, reject) => {\n      const xhr = new XMLHttpRequest();\n      xhr.open(\"POST\", this.authEndpoint);\n      xhr.timeout = tokenProviderTimeout;\n      xhr.onload = () => {\n        if (xhr.status === 200) {\n          resolve(JSON.parse(xhr.responseText));\n        } else {\n          reject(new Error(`Couldn't fetch token from ${\n            this.authEndpoint\n          }; got ${ xhr.status } ${ xhr.statusText }.`));\n        }\n      };\n      xhr.ontimeout = () => {\n        reject(new Error(`Request timed out while fetching token from ${\n          this.authEndpoint\n        }`));\n      };\n      xhr.setRequestHeader(\"content-type\", \"application/x-www-form-urlencoded\");\n      xhr.send(urlEncode({\n        ...this.authData,\n        grant_type: \"client_credentials\",\n      }));\n    });\n  }\n}\n","import PusherPlatform from \"pusher-platform\";\nimport Feed from \"./feed\";\nimport TokenProvider from \"./token-provider\";\nimport { feedIdRegex } from \"./constants\";\nimport { parseResponse, queryString } from \"./utils\";\n\nexport default class Feeds {\n  constructor({\n    authData = {},\n    authEndpoint,\n    host,\n    instanceLocator,\n    logLevel,\n    logger,\n  } = {}) {\n    this.authData = authData;\n    this.authEndpoint = authEndpoint;\n    this.listTokenProvider = new TokenProvider({\n      authEndpoint: this.authEndpoint,\n      authData: {\n        ...this.authData,\n        path: \"feeds\",\n        action: \"READ\",\n      }\n    });\n    this.firehoseTokenProvider = new TokenProvider({\n      authEndpoint: this.authEndpoint,\n      authData: {\n        ...this.authData,\n        path: \"firehose/items\",\n        action: \"READ\",\n      }\n    });\n    if (!logger && logLevel) {\n      logger = new PusherPlatform.ConsoleLogger(logLevel);\n    }\n    this.instance = new PusherPlatform.Instance({\n      host,\n      locator: instanceLocator,\n      logger,\n      serviceName: \"feeds\",\n      serviceVersion: \"v1\",\n    });\n  }\n\n  list({ prefix, limit } = {}) {\n    return parseResponse(this.instance.request({\n      method: \"GET\",\n      path: \"feeds\" + queryString({ prefix, limit }),\n      tokenProvider: this.listTokenProvider,\n    }));\n  }\n\n  feed(feedId) {\n    if (!feedId || !feedId.match(feedIdRegex)) {\n      throw new TypeError(`Invalid feedId: ${ feedId }`);\n    }\n    const readTokenProvider =\n      feedId.startsWith(\"private-\") ? new TokenProvider({\n        authEndpoint: this.authEndpoint,\n        authData: {\n          ...this.authData,\n          path: `feeds/${ feedId }/items`,\n          action: \"READ\",\n        }\n      }) : null;\n    return new Feed({\n      instance: this.instance,\n      feedId,\n      readTokenProvider,\n    });\n  }\n\n  firehose({ onPublish, onSubscribe, onUnsubscribe, ...options } = {}) {\n    validateFirehoseCallbacks({ onPublish, onSubscribe, onUnsubscribe });\n    const onEvent = event => {\n      if (event.body.type === 0 && onPublish) {\n        onPublish(event.body.data);\n      } else if (event.body.type === 1 && onSubscribe) {\n        onSubscribe(event.body.data);\n      } else if (event.body.type === 2 && onUnsubscribe) {\n        onUnsubscribe(event.body.data);\n      } else if (event.body.type > 2) {\n        throw new TypeError(`Unsupported firehose event type '${\n          event.body.type\n        }'`);\n      }\n    };\n    return this.instance.subscribeNonResuming({\n      ...options,\n      path: \"firehose/items\",\n      tokenProvider: this.firehoseTokenProvider,\n      listeners: {\n        onEvent,\n        onOpen: options.onOpen,\n        onSubscribe: options.onSubscribe,\n        onError: options.onError,\n        onEnd: options.onEnd,\n      }\n    });\n  }\n}\n\nfunction validateFirehoseCallbacks(callbacks) {\n  const defined = Object.keys(callbacks)\n    .filter(k => callbacks[k] !== undefined)\n    .map(k => ({ name: k, callback: callbacks[k] }));\n  defined.forEach(({ name, callback }) => {\n    if (typeof callback !== \"function\") {\n      throw new TypeError(`${ name } must be a function, got ${ callback }`);\n    }\n  });\n  if (defined.length === 0) {\n    throw new TypeError(\"Must provide at least one of onPublish, onSubscribe, or onUnsubscribe\");\n  }\n}\n"],"names":["webpackUniversalModuleDefinition","root","factory","module","this","modules","installedModules","__webpack_require__","moduleId","exports","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","value","responseToHeadersObject","headerStr","headers","headerPairs","split","_i","headerPairs_1","length","headerPair","index","indexOf","key","substring","val","ErrorResponse","statusCode","info","fromXHR","xhr","status","getAllResponseHeaders","responseText","NetworkError","error","XhrReadyState","LogLevel","ConsoleLogger","threshold","groups","Array","hr","window","console","group","label","push","log","groupEnd","pop","verbose","message","VERBOSE","debug","DEBUG","INFO","warn","WARNING","ERROR","logFunction","level","loggerSignature","EmptyLogger","network_1","createRetryStrategyOptionsOrDefault","options","initialTimeoutMillis","maxTimeoutMillis","limit","undefined","increaseTimeout","currentTimeout","Retry","waitTimeMillis","DoNotRetry","requestMethodIsSafe","method","toUpperCase","RetryResolution","logger","retryUnsafeRequests","currentRetryCount","increaseTimeoutFunction","currentBackoffMillis","attemptRetry","constructor","parseInt","shouldSafeRetry","calulateMillisToRetry","logger_1","request_1","resuming_subscription_1","retrying_subscription_1","subscribe_strategy_1","subscription_1","token_providing_subscription_1","http_1","websocket_1","transports_1","BaseClient","host","replace","websocketTransport","default","httpTransport","request","tokenParams","_this","tokenProvider","fetchToken","then","token","_a","executeNetworkRequest","catch","subscribeResuming","path","listeners","retryStrategyOptions","initialEventId","completeListeners","replaceMissingListenersWithNoOps","subscribeStrategyListeners","subscribeStrategyListenersFromSubscriptionListeners","subscriptionStrategy","createResumingStrategy","createTokenProvidingStrategy","createTransportStrategy","opened","onEnd","onError","onEvent","onOpen","onSubscribe","onRetrying","subscribeNonResuming","createRetryingStrategy","createXhr","Promise","resolve","reject","onreadystatechange","readyState","response","send","JSON","stringify","body","retry_strategy_1","retryOptions","nextSubscribeStrategy","completeRetryOptions","retryResolution","ResumingSubscription","unsubscribe","state","onTransition","newState","OpeningSubscriptionState","lastEventId","underlyingSubscription","EndedSubscriptionState","ResumingSubscriptionState","event","eventId","OpenSubscriptionState","EndingSubscriptionState","executeSubscriptionOnce","resolveError","errorResolution","timeout","setTimeout","FailedSubscriptionState","executeNextSubscribeStrategy","clearTimeout","Error","enrichedRetryOptions","RetryingSubscription","RetryingSubscriptionState","TokenProvidingSubscription","InactiveState","ActiveState","subscribe","existingListeners","assign","isTokenExpiredError","clearToken","putTokenIntoHeader","transport","base_client_1","instance_1","Instance","subListeners","onEndNoOp","onErrorNoOp","onEventNoOp","onOpenNoOp","onRetryingNoOp","onSubscribeNoOp","HttpTransportState","HttpSubscription","gotEOS","lastNewlineIndex","UNOPENED","UNSENT","OPENED","HEADERS_RECEIVED","assertStateIsIn","OPENING","LOADING","onLoading","DONE","onDone","ENDED","abort","OPEN","ENDING","err","onChunk","newlineIndex","lastIndexOf","rawEvents","slice","rawEvents_1","rawEvent","data","parse","onMessage","validStates","arguments","stateIsValid","some","validState","expectedStates","map","join","actualState","verifyMessage","onEventMessage","onEOSMessage","eventMessage","_","id","isArray","eosMessage","HttpTransport","encrypted","baseURL","requestOptions","createXHR","XMLHttpRequest","endpoint","open","setRequestHeader","jwt","__assign","t","SubscribeMessageType","OpenMessageType","EventMessageType","UnsubscribeMessageType","EosMessageType","PingMessageType","PongMessageType","CloseMessageType","WSReadyState","WsSubscriptions","subscriptions","add","subID","has","isEmpty","keys","remove","getAll","getAllAsArray","removeAll","WsSubscription","wsTransport","pingIntervalMs","pingTimeoutMs","WebSocketTransport","webSocketPath","forcedClose","closedError","lastSubscriptionID","pendingSubscriptions","connect","tryReconnectIfNeeded","socket","Open","sendMessage","getMessage","subscription","close","WebSocket","onopen","allPendingSubscriptions","forEach","subscribePending","pingInterval","setInterval","pongTimeout","now","Date","getTime","lastMessageReceivedTimestamp","lastSentPingID","onmessage","receiveMessage","onerror","onclose","callback","allSubscriptions","Closed","messageType","nonValidMessageError","validateMessage","shift","onPongMessage","onPingMessage","onCloseMessage","onOpenMessage","subscriptionListeners","closeMessage","receviedPongID","receviedPingID","HOST_BASE","locator","serviceName","serviceVersion","splitLocator","platformVersion","cluster","client","absPath","relativePath","parseResponse","promise","urlEncode","filter","encodeURIComponent","queryString","encodedData","unixTimeNow","Math","floor","Feed","instance","feedId","readTokenProvider","onItem","TypeError","type","lastItemId","previousItems","cursor","cacheExpiryTolerance","feedIdRegex","tokenProviderTimeout","TokenProvider","authEndpoint","authData","cacheIsStale","makeAuthRequest","cache","responseBody","access_token","expires_in","cachedToken","expiresIn","cacheValidUntil","onload","statusText","ontimeout","Feeds","instanceLocator","logLevel","listTokenProvider","firehoseTokenProvider","PusherPlatform","prefix","match","startsWith","onPublish","onUnsubscribe","validateFirehoseCallbacks","callbacks","defined","k"],"mappings":"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"}